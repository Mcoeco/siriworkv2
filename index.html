<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£ - ‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏ï‡∏≥‡∏£‡∏ß‡∏à‡∏†‡∏π‡∏ò‡∏£‡∏ô‡πà‡∏≤‡∏ô</title>
<style>
* {margin:0;padding:0;box-sizing:border-box;}
body {font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg,#1e3c72 0%,#2a5298 100%); min-height:100vh; padding:20px;}
.container {max-width:1200px;margin:0 auto;background:rgba(255,255,255,0.95);border-radius:15px;box-shadow:0 20px 40px rgba(0,0,0,0.1);overflow:hidden;}
.header {background:linear-gradient(90deg,#1e3c72,#2a5298);color:white;padding:30px;text-align:center;position:relative;}
.header h1 {font-size:2.5em;margin-bottom:10px;position:relative; z-index:1;}
.header p {font-size:1.2em;opacity:0.9;position:relative; z-index:1;}
.nav-tabs {background:#f8f9fa; display:flex; justify-content:center; border-bottom:1px solid #ddd;}
.nav-tab {padding:15px 30px; background:none; border:none; cursor:pointer; font-size:16px; font-weight:500; color:#666; transition:all 0.3s ease; border-bottom:3px solid transparent;}
.nav-tab:hover {background:#e9ecef; color:#1e3c72;}
.nav-tab.active {color:#1e3c72; border-bottom-color:#1e3c72; background:white;}
.content {padding:30px;}
.tab-content {display:none;}
.tab-content.active {display:block; animation: fadeIn 0.5s ease-in;}
@keyframes fadeIn {from {opacity:0; transform:translateY(20px);} to {opacity:1; transform:translateY(0);}}
.form-group {margin-bottom:20px;}
.form-group label {display:block;margin-bottom:8px;font-weight:600;color:#333;}
.form-group input, .form-group select, .form-group textarea {width:100%; padding:12px; border:2px solid #e1e5e9; border-radius:8px; font-size:14px; transition:all 0.3s ease;}
.form-group input:focus, .form-group select:focus, .form-group textarea:focus {outline:none; border-color:#1e3c72; box-shadow:0 0 0 3px rgba(30,60,114,0.1);}
.form-row {display:grid; grid-template-columns:1fr 1fr; gap:20px;}
.btn {padding:12px 25px; border:none; border-radius:8px; cursor:pointer; font-size:16px; font-weight:600; transition:all 0.3s ease; display:inline-flex; align-items:center; gap:8px;}
.btn:disabled {opacity:0.6; cursor:not-allowed;}
.btn-primary {background:linear-gradient(135deg,#1e3c72,#2a5298); color:white;}
.btn-success {background:linear-gradient(135deg,#28a745,#20c997); color:white;}
.btn-warning {background:linear-gradient(135deg,#ffc107,#fd7e14); color:white;}
.btn-danger {background:linear-gradient(135deg,#dc3545,#e83e8c); color:white;}
.document-card {background:white; border:1px solid #e1e5e9; border-radius:12px; padding:20px; margin-bottom:15px; box-shadow:0 2px 10px rgba(0,0,0,0.05); transition:all 0.3s ease;}
.document-card:hover {transform:translateY(-3px); box-shadow:0 8px 25px rgba(0,0,0,0.1);}
.document-header {display:flex; justify-content:space-between; align-items:center; margin-bottom:15px; flex-wrap:wrap; gap:10px;}
.document-number {font-size:18px; font-weight:bold; color:#1e3c72;}
.status-badge {padding:6px 12px; border-radius:20px; font-size:12px; font-weight:600; text-transform:uppercase;}
.status-received {background:#d4edda; color:#155724;}
.status-sent {background:#cce5ff; color:#004085;}
.document-details {display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:15px; margin-bottom:15px;}
.detail-item {display:flex; flex-direction:column;}
.detail-label {font-size:12px;color:#666;margin-bottom:4px;}
.detail-value {font-weight:500;color:#333;}
.search-box {width:100%; max-width:400px; margin:0 auto 30px; position:relative;}
.search-input {width:100%; padding:12px 45px 12px 15px; border:2px solid #e1e5e9; border-radius:25px; font-size:16px; transition:all 0.3s ease;}
.search-input:focus {outline:none; border-color:#1e3c72; box-shadow:0 0 0 3px rgba(30,60,114,0.1);}
.search-icon {position:absolute; right:15px; top:50%; transform:translateY(-50%); color:#666;}
.alert {padding:15px; border-radius:8px; margin-bottom:20px; display:none;}
.alert.show {display:block; animation:slideDown 0.3s ease;}
.alert-success {background:#d4edda;color:#155724;border:1px solid #c3e6cb;}
.alert-error {background:#f8d7da;color:#721c24;border:1px solid #f5c6cb;}
.loading {display:none; text-align:center; padding:20px; color:#666;}
.loading.show {display:block;}
.modal {display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); justify-content:center; align-items:center;}
.modal.active {display:flex;}
.modal-content {background:white; padding:20px; border-radius:10px; max-width:500px; width:90%;}
.modal-content h3 {margin-bottom:15px; color:#1e3c72;}
.modal-content .form-group input, .modal-content .form-group select, .modal-content .form-group textarea {width:100%;}
.modal-content .modal-buttons {display:flex; justify-content:flex-end; gap:10px; margin-top:15px;}
@media(max-width:768px){.form-row{grid-template-columns:1fr;} .nav-tabs{flex-wrap:wrap;} .nav-tab{flex:1; min-width:120px;} .document-header{flex-direction:column; align-items:flex-start;}}
</style>
</head>
<body>
<div class="container">
<div class="header">
<h1>üèõÔ∏è ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£</h1>
<p>‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏ï‡∏≥‡∏£‡∏ß‡∏à‡∏†‡∏π‡∏ò‡∏£‡∏ô‡πà‡∏≤‡∏ô | ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏ô‡πà‡∏≤‡∏ô</p>
<div id="dbStatus" style="position:absolute; top:10px; right:20px; font-size:12px; opacity:0.8;"></div>
</div>
<div class="tabs" style="margin-bottom:20px;">
  <button class="nav-tab active" onclick="showTab('receive')">üì• ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏£‡∏±‡∏ö</button>
  <button class="nav-tab" onclick="showTab('send')">üì§ ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏™‡πà‡∏á</button>
  <button class="nav-tab" onclick="showTab('search')">üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</button>
  <button class="nav-tab" onclick="showTab('stats')">üìä ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥</button>
</div>
</div>
<div class="content">
<div id="alert" class="alert"></div>
<div id="loading" class="loading">‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</div>

<!-- ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏£‡∏±‡∏ö -->
<div id="register" class="tab-content active">
<h2 style="margin-bottom:25px;color:#1e3c72;">üì• ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏£‡∏±‡∏ö‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠</h2>
<form id="registerForm">
<div class="form-row">
<div class="form-group">
<label>‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠</label>
<input type="text" id="docNumber" required placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏ô.123/2567">
</div>
<div class="form-group">
<label>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö</label>
<input type="date" id="receiveDate" required>
</div>
</div>
<div class="form-row">
<div class="form-group">
<label>‡∏à‡∏≤‡∏Å (‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô)</label>
<input type="text" id="fromOrg" required placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô‡∏ï‡πâ‡∏ô‡∏ó‡∏≤‡∏á">
</div>
<div class="form-group">
<label>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£</label>
<select id="docType" required>
<option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</option>
<option value="‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£">‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£</option>
<option value="‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á">‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á</option>
<option value="‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®">‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®</option>
<option value="‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°</option>
<option value="‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</option>
</select>
</div>
</div>
<div class="form-group">
<label>‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á</label>
<input type="text" id="subject" required placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£">
</div>
<div class="form-group">
<label>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</label>
<textarea id="notes" rows="3" placeholder="‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°"></textarea>
</div>
<button type="submit" class="btn btn-primary">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£</button>
</form>
<div id="registeredList" style="margin-top:30px;"></div>
</div>

<!-- ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏™‡πà‡∏á -->
<div id="send" class="tab-content">
<h2 style="margin-bottom:25px;color:#1e3c72;">üì§ ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏™‡πà‡∏á‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠</h2>
<form id="sendForm">
<div class="form-row">
<div class="form-group">
<label>‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠</label>
<input type="text" id="sendDocNumber" required placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏™.456/2567">
</div>
<div class="form-group">
<label>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á</label>
<input type="date" id="sendDate" required>
</div>
</div>
<div class="form-row">
<div class="form-group">
<label>‡∏ñ‡∏∂‡∏á (‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô)</label>
<input type="text" id="toOrg" required placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á">
</div>
<div class="form-group">
<label>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£</label>
<select id="sendDocType" required>
<option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</option>
<option value="‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£">‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£</option>
<option value="‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á">‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á</option>
<option value="‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®">‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®</option>
<option value="‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°</option>
<option value="‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</option>
</select>
</div>
</div>
<div class="form-group">
<label>‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á</label>
<input type="text" id="sendSubject" required placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£">
</div>
<div class="form-group">
<label>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</label>
<textarea id="sendNotes" rows="3" placeholder="‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°"></textarea>
</div>
<button type="submit" class="btn btn-success">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á</button>
</form>
<div id="sentList" style="margin-top:30px;"></div>
</div>

<!-- ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ -->
<div id="search" class="tab-content">
<h2 style="margin-bottom:25px;color:#1e3c72;">üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£</h2>
<div class="search-box">
<input type="text" id="searchInput" class="search-input" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà/‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á/‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô...">
<span class="search-icon">üîé</span>
</div>
<div id="searchResults"></div>
</div>

<!-- ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ -->
<div id="stats" class="tab-content">
<h2 style="margin-bottom:25px;color:#1e3c72;">üìä ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£</h2>
<p>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: <span id="totalReceived">0</span></p>
<p>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏™‡πà‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: <span id="totalSent">0</span></p>
</div>

</div>

<!-- Modal ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç -->
<div id="editModal" class="modal">
<div class="modal-content">
<h3>‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£</h3>
<div class="form-group">
<label>‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠</label>
<input type="text" id="editDocNumber" required>
</div>
<div class="form-group">
<label>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</label>
<input type="date" id="editDate" required>
</div>
<div class="form-group">
<label>‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô</label>
<input type="text" id="editOrg" required>
</div>
<div class="form-group">
<label>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£</label>
<select id="editDocType" required>
<option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</option>
<option value="‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£">‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£</option>
<option value="‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á">‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á</option>
<option value="‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®">‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®</option>
<option value="‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°</option>
<option value="‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</option>
</select>
</div>
<div class="form-group">
<label>‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á</label>
<input type="text" id="editSubject" required>
</div>
<div class="form-group">
<label>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</label>
<textarea id="editNotes" rows="3"></textarea>
</div>
<div class="modal-buttons">
<button class="btn btn-warning" onclick="closeModal()">‚ùå ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
<button class="btn btn-primary" onclick="saveEdit()">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
</div>
</div>
</div>

<script>
// ‡πÅ‡∏ó‡πá‡∏ö
function showTab(tab) {
document.querySelectorAll('.nav-tab').forEach(t=>t.classList.remove('active'));
document.querySelectorAll('.tab-content').forEach(c=>c.classList.remove('active'));
document.querySelector(`.nav-tab[onclick="showTab('${tab}')"]`).classList.add('active');
document.getElementById(tab).classList.add('active');
}

// ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£
let receivedDocs = [];
let sentDocs = [];
let editingIndex = null;

// ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•
function renderList() {
let registeredList = document.getElementById('registeredList');
registeredList.innerHTML = '';
receivedDocs.forEach((doc,index)=>{
let div = document.createElement('div');
div.className='document-card';
div.innerHTML=`<div class="document-header">
<span class="document-number">${doc.docNumber}</span>
<span class="status-badge status-received">‡∏£‡∏±‡∏ö‡πÅ‡∏•‡πâ‡∏ß</span>
<button class="btn btn-warning" onclick="editDoc(${index},'receive')">‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
</div>
<div class="document-details">
<div class="detail-item"><span class="detail-label">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö</span><span class="detail-value">${doc.date}</span></div>
<div class="detail-item"><span class="detail-label">‡∏à‡∏≤‡∏Å</span><span class="detail-value">${doc.org}</span></div>
<div class="detail-item"><span class="detail-label">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</span><span class="detail-value">${doc.type}</span></div>
<div class="detail-item"><span class="detail-label">‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á</span><span class="detail-value">${doc.subject}</span></div>
<div class="detail-item"><span class="detail-label">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</span><span class="detail-value">${doc.notes}</span></div>
</div>`;
registeredList.appendChild(div);
});

let sentList = document.getElementById('sentList');
sentList.innerHTML='';
sentDocs.forEach((doc,index)=>{
let div = document.createElement('div');
div.className='document-card';
div.innerHTML=`<div class="document-header">
<span class="document-number">${doc.docNumber}</span>
<span class="status-badge status-sent">‡∏™‡πà‡∏á‡πÅ‡∏•‡πâ‡∏ß</span>
<button class="btn btn-warning" onclick="editDoc(${index},'send')">‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
</div>
<div class="document-details">
<div class="detail-item"><span class="detail-label">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á</span><span class="detail-value">${doc.date}</span></div>
<div class="detail-item"><span class="detail-label">‡∏ñ‡∏∂‡∏á</span><span class="detail-value">${doc.org}</span></div>
<div class="detail-item"><span class="detail-label">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</span><span class="detail-value">${doc.type}</span></div>
<div class="detail-item"><span class="detail-label">‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á</span><span class="detail-value">${doc.subject}</span></div>
<div class="detail-item"><span class="detail-label">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</span><span class="detail-value">${doc.notes}</span></div>
</div>`;
sentList.appendChild(div);
document.getElementById('totalReceived').textContent = receivedDocs.length;
document.getElementById('totalSent').textContent = sentDocs.length;
}
function showTab(tab) {
  document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
  document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
  document.querySelector(`.nav-tab[onclick="showTab('${tab}')"]`).classList.add('active');
  document.getElementById(tab).classList.add('active');
}
// ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£
document.getElementById('registerForm').addEventListener('submit',e=>{
e.preventDefault();
let doc={
docNumber: document.getElementById('docNumber').value,
date: document.getElementById('receiveDate').value,
org: document.getElementById('fromOrg').value,
type: document.getElementById('docType').value,
subject: document.getElementById('subject').value,
notes: document.getElementById('notes').value
};
receivedDocs.push(doc);
renderList();
e.target.reset();
showAlert('‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏£‡∏±‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢','success');
});

document.getElementById('sendForm').addEventListener('submit',e=>{
e.preventDefault();
let doc={
docNumber: document.getElementById('sendDocNumber').value,
date: document.getElementById('sendDate').value,
org: document.getElementById('toOrg').value,
type: document.getElementById('sendDocType').value,
subject: document.getElementById('sendSubject').value,
notes: document.getElementById('sendNotes').value
};
sentDocs.push(doc);
renderList();
e.target.reset();
showAlert('‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏™‡πà‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢','success');
});

// ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤
document.getElementById('searchInput').addEventListener('input',e=>{
let q=e.target.value.toLowerCase();
let results = receivedDocs.concat(sentDocs).filter(doc=>
doc.docNumber.toLowerCase().includes(q)||
doc.subject.toLowerCase().includes(q)||
doc.org.toLowerCase().includes(q)
);
let container=document.getElementById('searchResults');
container.innerHTML='';
results.forEach(doc=>{
let div=document.createElement('div');
div.className='document-card';
div.innerHTML=`<div class="document-header">
<span class="document-number">${doc.docNumber}</span>
<span class="status-badge ${receivedDocs.includes(doc)?'status-received':'status-sent'}">${receivedDocs.includes(doc)?'‡∏£‡∏±‡∏ö‡πÅ‡∏•‡πâ‡∏ß':'‡∏™‡πà‡∏á‡πÅ‡∏•‡πâ‡∏ß'}</span>
</div>
<div class="document-details">
<div class="detail-item"><span class="detail-label">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</span><span class="detail-value">${doc.date}</span></div>
<div class="detail-item"><span class="detail-label">‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô</span><span class="detail-value">${doc.org}</span></div>
<div class="detail-item"><span class="detail-label">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</span><span class="detail-value">${doc.type}</span></div>
<div class="detail-item"><span class="detail-label">‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á</span><span class="detail-value">${doc.subject}</span></div>
<div class="detail-item"><span class="detail-label">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</span><span class="detail-value">${doc.notes}</span></div>
</div>`;
container.appendChild(div);
});

// Modal
function editDoc(index,type){
editingIndex = {index,type};
let doc = (type==='receive'?receivedDocs[index]:sentDocs[index]);
document.getElementById('editDocNumber').value = doc.docNumber;
document.getElementById('editDate').value = doc.date;
document.getElementById('editOrg').value = doc.org;
document.getElementById('editDocType').value = doc.type;
document.getElementById('editSubject').value = doc.subject;
document.getElementById('editNotes').value = doc.notes;
document.getElementById('editModal').classList.add('active');
}
function closeModal(){
document.getElementById('editModal').classList.remove('active');
}
function saveEdit(){
if(editingIndex){
let doc = editingIndex.type==='receive'?receivedDocs[editingIndex.index]:sentDocs[editingIndex.index];
doc.docNumber=document.getElementById('editDocNumber').value;
doc.date=document.getElementById('editDate').value;
doc.org=document.getElementById('editOrg').value;
doc.type=document.getElementById('editDocType').value;
doc.subject=document.getElementById('editSubject').value;
doc.notes=document.getElementById('editNotes').value;
renderList();
closeModal();
showAlert('‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢','success');
editingIndex=null;
}
}

// Alert
function showAlert(msg,type){
let alertBox=document.getElementById('alert');
alertBox.textContent=msg;
alertBox.className='alert show alert-'+type;
setTimeout(()=>{alertBox.classList.remove('show');},3000);
}

renderList();
</script>
</body>
</html>
